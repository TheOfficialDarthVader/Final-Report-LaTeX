%&Interim_Report_Master

%%Static Preamble%%
%Document Setup%
\documentclass[a4paper, 11pt]{article}
\usepackage[twoside, bindingoffset=19mm, left=19mm, right=19mm, top=20mm, bottom=20mm]{geometry}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\setlength\parskip{2ex}
\raggedright

%Basic Packages%
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{pdfpages}
\usepackage{float}
\floatplacement{figure}{H}
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{pdflscape}
\usepackage[numbers]{natbib}
\usepackage{multicol}

%Fix numbering to sections
\numberwithin{equation}{section}
\numberwithin{figure}{section}
\numberwithin{table}{section}

%Tikz for Drawing Diagrams%
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, arrows, fit, matrix, positioning, shapes.multipart}
\usetikzlibrary{arrows}
\usetikzlibrary{positioning}

%Title Page%
\usepackage{datenumber}

\csname endofdump\endcsname

%%dynamic Preamble%%
%Nomenclature%
\makeindex

\usepackage{nomencl}
\makenomenclature

\usepackage{etoolbox}
\renewcommand\nomgroup[1]{%
	\item[\bfseries
	\ifstrequal{#1}{A}{Arabic Symbols}{%
	\ifstrequal{#1}{B}{Greek Symbols}{%
	\ifstrequal{#1}{C}{Subscripts}{%
	\ifstrequal{#1}{D}{Superscripts}{%
	\ifstrequal{#1}{E}{Non-dimensional Numbers}{%
	\ifstrequal{#1}{F}{Acroynms}{}}}}}}%
	]}

% This will add the units
%----------------------------------------------
\newcommand{\nomunit}[1]{%
	\renewcommand{\nomentryend}{\hspace*{\fill}#1}}
%----------------------------------------------

%To be added to static when there's more
\usepackage{listings}
\usepackage{inconsolata}

\definecolor{codewhite}{RGB}{169,183,198}
\definecolor{codegreen}{RGB}{106,135,89}
\definecolor{codeblue}{RGB}{104,151,187}
\definecolor{codeorange}{RGB}{204,120,50}
\definecolor{codegrey}{RGB}{128,128,128}
\definecolor{numbergrey}{RGB}{96,99,102}
\definecolor{backcolour}{RGB}{43,43,43}%{0.95,0.95,0.92}

\lstdefinestyle{cstyle}{
	language=C,
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{codeorange},
	keywordstyle=[1]{\color{codeorange}},
	keywordstyle=[2]{\color{codeblue}},
	keywordstyle=[3]{\color{codeblue}},
	otherkeywords={;,0.99,1},
	morekeywords=[1]{;},
	morekeywords=[2]{0.99},
	morekeywords=[3]{1},
	literate={,}{{\textcolor{codeorange}{,}}}{1}
	{\%f}{{\textcolor{codeorange}{\%f}}}{1}
	{nn}{{\textcolor{codeorange}{\hspace{-0.8ex}\textbackslash n}}}{1},
	emphstyle=\color{codeorange},
	morecomment=[n][\color{codegrey}]{/*}{*/},
	numberstyle=\color{numbergrey},
	stringstyle=\color{codegreen},
	basicstyle=\fontsize{11}{11}\ttfamily\color{codewhite},
	columns=fullflexible,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=4
}

\lstdefinestyle{cstyleintext}{
	language=C,
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{codeorange},
	keywordstyle=[1]{\color{codeorange}},
	keywordstyle=[2]{\color{codeblue}},
	keywordstyle=[3]{\color{codeorange}},
	otherkeywords={;,0.99,1},
	morekeywords=[1]{;},
	morekeywords=[2]{0.99},
	morekeywords=[3]{1},
	literate={,}{{\textcolor{codeorange}{,}}}{1}
	{\%f}{{\textcolor{codeorange}{\%f}}}{1}
	{nn}{{\textcolor{codeorange}{\hspace{-0.8ex}\textbackslash n}}}{1},
	emphstyle=\color{codeorange},
	morecomment=[n][\color{codegrey}]{/*}{*/},
	numberstyle=\color{numbergrey},
	stringstyle=\color{codegreen},
	basicstyle=\fontsize{11}{11}\ttfamily,
	columns=fullflexible,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=4
}

\usepackage{adjustbox}
\usepackage{subcaption} 
\newsavebox{\mysavebox}

\renewcommand{\sectionmark}[1]{\markboth{#1}{#1}}

\newlength{\myrest}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[RE,RO]{Andrew Kernan}
\fancyhead[LE,LO]{\leftmark}
\fancyfoot[LE,RO]{\thepage}

%Load Subfiles%
\usepackage{subfiles}

\begin{document}
\subfile{Title_Page/Title_Page.tex}

\hypertarget{dec}{\section*{Declaration}\label{dec}}
I, Andrew Kernan declare that this thesis and the work presented in it are my own and has been generated by me as the result of my own original research.

I confirm that:
\begin{enumerate}
	\item This work was done wholly or mainly while in candidature for a degree at this University;
	\item Where any part of this thesis has previously been submitted for any other qualification at this University or any other institution, this has been clearly stated;
	\item Where I have consulted the published work of others, this is always clearly attributed;
	\item Where I have quoted from the work of others, the source is always given. With the exception of such quotations, this thesis is entirely my own work;
	\item I have acknowledged all main sources of help;
	\item Where the thesis is based on work done by myself jointly with others, I have made clear exactly what was done by others and what I have contributed myself;
	\item None of this work has been published before submission.
\end{enumerate}

\newpage

\hypertarget{ack}{\section*{Acknowledgements}\label{ack}}
I would like to thank my supervisor Professor John Shrimpton for his guidance and help during the project.

I would also like to thank Elijah Andrews for taking the time to explain and fix bugs in his code.

\newpage

{
	\setcounter{tocdepth}{3}
	\tableofcontents
}

\newpage

\hypertarget{abs}{\section*{Abstract}\label{abs}}\markboth{{Abstract}}{Abstract}
\addcontentsline{toc}{section}{Abstract}
The simulation of large populations of particles is computationally an expensive process. Simply running the code on CPUs does not make sense as the simulation times do not scale linearly with the number of particles. GPUs, however, have an architecture that makes them a superior compute device compared to CPUs for highly parallel operations.

This project will implement a commonly used model for heat and mass transfer, first in Python to develop and evaluate solving methods. Existing C and OpenCL code for particle motion will be modified to simplify it. With the final simulation code being added to this code once it has been verified and validated. 

A number of simulations with large populations of particles will be run and PDFs for heat and mass transfer will be plotted. The effect of the Stokes number on convective heat transfer will be investigated. This provides a starting point for further statistical analysis of heat and mass transfer PDFs.

\newpage

\hypertarget{nom}{\section*{}\label{nom}}
\addcontentsline{toc}{section}{Nomenclature}

\nomenclature[A]{$g_i$}{Acceleration due to gravity 
	\nomunit{$9.81\, m/s^2$}}
\nomenclature[A]{$L_V$}{Latent heat of evaporation
	\nomunit{$J/kg$}}
\nomenclature[A]{$m$}{Mass 
	\nomunit{$kg$}}
\nomenclature[A]{$T$}{Temperature 
	\nomunit{$K$}}
\nomenclature[A]{$u_i$}{Carrier gas velocity 
	\nomunit{$m/s$}}
\nomenclature[A]{$v_i$}{Droplet velocity 
	\nomunit{$m/s$}}
\nomenclature[A]{$X_i$}{Transient position 
	\nomunit{$m$}}
\nomenclature[A]{$C$}{Molar concentration 
	\nomunit{$mol/m^3$}}
\nomenclature[A]{$d$}{Diffusion coefficient 
	\nomunit{$cm^2/s$}}
\nomenclature[A]{$J$}{Diffusive flux density
	\nomunit{$mol/m^2/s$}}
\nomenclature[A]{$f_1$}{Correction factor for Stokes drag
	\nomunit{$-$}}
\nomenclature[A]{$f_2$}{Correction factor for heat transfer due to evaporation
	\nomunit{$-$}}
\nomenclature[A]{$Y_G$}{Free stream vapour mass fraction
	\nomunit{$-$}}
\nomenclature[A]{$Y_{s,eq}$}{Vapour mass fraction at the droplet's surface
	\nomunit{$-$}}
\nomenclature[A]{$B_{m,eq}$}{Spalding transfer number for mass
	\nomunit{$-$}}
\nomenclature[A]{$H_M$}{Specific driving potential for mass transfer
	\nomunit{$-$}}
\nomenclature[A]{$H_{\Delta T}$}{Collection of terms contributing to non-uniform internal temperature effects
	\nomunit{$-$}}
\nomenclature[A]{$W$}{Molecular weight
	\nomunit{$kg/kg~mole$}}
\nomenclature[A]{$P$}{Pressure
	\nomunit{$Pa$}}
\nomenclature[A]{$D$}{Diameter
	\nomunit{$mm$}}
\nomenclature[A]{$\bar{R}$}{Universial gas constant
	\nomunit{$K~kg~mol$}}
\nomenclature[A]{$h$}{Specific enthalpy
	\nomunit{$J~kg^{-1}$}}
\nomenclature[A]{$h$}{Enthalpy
	\nomunit{$J$}}
\nomenclature[A]{$q$}{Specific heat flux
	\nomunit{$W/kg$}}
\nomenclature[A]{$Q$}{Heat flux
	\nomunit{$W$}}
\nomenclature[A]{$r$}{Droplet radius
	\nomunit{$m$}}

\nomenclature[B]{$\Gamma$}{Binary diffusion coefficient 
	\nomunit{$m^2/s$}}
\nomenclature[B]{$\theta_1$}{Ratio of heat capacity for constant pressure between the gas and liquid phase 
	\nomunit{$-$}} 
\nomenclature[B]{$\theta_2$}{Ratio of molecular weights
	\nomunit{$-$}}
\nomenclature[B]{$\mu$}{Viscosity 
	\nomunit{$kg/m/s$}}
\nomenclature[B]{$\rho$}{Density
	\nomunit{$kg/m^3$}}
\nomenclature[B]{$\tau_d$}{Particle time constant for Stokes flow 
	\nomunit{$s$}}
\nomenclature[B]{$\chi_{s,eq}$}{Surface equilibrium mole fraction
	\nomunit{$-$}}
\nomenclature[B]{$\lambda$}{Thermal conductivity
	\nomunit{$J~m^{-1}s^{-1}K^{-1}$}}

\nomenclature[C]{$d$}{Droplet property}
\nomenclature[C]{$G$}{Gas phase property}
\nomenclature[C]{$C$}{Carrier gas property}
\nomenclature[C]{$i$}{Vector component}
\nomenclature[C]{$n$}{Value of property at current time level}
\nomenclature[C]{$n+1$}{Value of property at next discrete time level}
\nomenclature[C]{$s$}{Property at droplet surface}
\nomenclature[C]{$eq$}{Property in equilibrium}
\nomenclature[C]{$sat$}{Property at saturation}
\nomenclature[C]{$0$}{Value of property at start of simulation}
\nomenclature[C]{$B$}{Property boiling}

%\nomenclature[D]{$P$}{Placeholder}

\nomenclature[E]{$Nu$}{Nusselt Number}
\nomenclature[E]{$Pr$}{Prandtl Number}
\nomenclature[E]{$Re$}{Reynolds Number}
\nomenclature[E]{$Sc$}{Schmidt Number}
\nomenclature[E]{$Sh$}{Sherwood Number}
\nomenclature[E]{$Le$}{Lewis Number}

\nomenclature[F]{CPU}{Central Processing Unit}
\nomenclature[F]{GPU}{Graphics Processing Unit}
\nomenclature[F]{MPI}{Message Passing Interface}
\nomenclature[F]{OpenCL}{Open Computing Language}
\nomenclature[F]{CUDA}{Compute Unified Device Architecture}
\nomenclature[F]{ODE}{Ordinary Differential Equation}
\nomenclature[F]{IP}{Individual Project}

\printnomenclature

\subfile{Introduction/Introduction.tex}
\newpage
\subfile{Literature_Review/Literature_Review.tex}
\newpage
\subfile{Background_Material/Background_Material.tex}
\newpage
\subfile{Droplet_Evaporation_Model/Droplet_Evaporation_Model.tex}
\newpage
\subfile{Fluid_Model/Fluid_Model.tex}
\newpage
\subfile{Numerical_Methods/Numerical_Methods.tex}
\newpage
\subfile{Solution_Method/Solution_Method.tex}
\newpage
\subfile{Verification_and_Validation_of_the_Existing_Code/Verification_and_Validation_of_the_Existing_Code.tex}
\newpage
\subfile{OpenCL_Implementation/OpenCL_Implementation.tex}
\newpage
\subfile{Results/Results.tex}
\newpage
\subfile{Conclusion/Conclusion.tex}
\newpage
%\subfile{Project_Plan/Project_Plan.tex}
\subfile{Appendix/Appendix.tex}
\newpage
\addcontentsline{toc}{section}{References}
\bibliographystyle{IEEEtranN}
\bibliography{library}
\end{document}